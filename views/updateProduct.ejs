<%- include('./partials/head.ejs') %>

<body>
    <%- include('./partials/admin-navbar.ejs') %>

    <main class="admin">
        <h3 class="my-3 pt-5 mx-3">Update Product</h3>
        <div class="dashboard">
            <div class="my-form" style="width: 80%;">
                <!-- Form content here -->
                <form class="p-5" action="/products/update/<%= product._id %>" method="post" enctype="multipart/form-data">
                    <div class="form-group">
                        <input type="text" name="name" value="<%= product.name %>" class="form-control py-4 px-2" id="name" required>
                    </div>
                    <div class="form-group">
                        <textarea name="content" id="content" class="form-control p-2 mx-0" cols="" rows="20"><%= product.content %></textarea>
                    </div>
                    <div class="form-group">
                        <input type="text" name="price" value="<%= product.price %>" class="form-control input-adjust" id="price" placeholder="Product Price">
                    </div>
                    <div class="form-group">
                        <input type="text" name="reducedPrice" value="<%= product.reducedPrice %>" class="form-control input-adjust" id="reducedPrice" placeholder="Original Price">
                    </div>
                    <div class="form-group">
                        <input type="number" name="stock" value="<%= product.stock %>" class="form-control input-adjust" id="stock" placeholder="Product Stock">
                    </div>
                    <div class="form-group">
                        <input type="number" name="sold" value="<%= product.sold %>" class="form-control input-adjust" id="sold" placeholder="Product Sold">
                    </div>
                    <div class="form-group">
                        <input type="number" name="reviews" value="<%= product.reviews %>" class="form-control input-adjust" id="reviews" placeholder="Product Reviews">
                    </div>
                    <div class="form-group">
                        <input type="text" name="category" value="<%= product.category %>" class="form-control input-adjust" id="category" placeholder="Product Category">
                    </div>
                    <div class="form-group">
                        <input type="file" name="img" value="/uploads/<%= product.img %>" class="form-control input-adjust" id="img" placeholder="Add Media" multiple>
                    </div>
                    <button type="submit" class="btn btn-primary">Submit</button>
                </form>
            </div>
        </div>
    </main>

    <script>
        ClassicEditor
            .create(document.querySelector('#content'), {
                toolbar: [
                    'heading', '|', 'bold', 'italic', 'link', 'bulletedList', 'numberedList', '|', 'undo', 'redo'
                ],
                table: {
                    contentToolbar: [
                        'tableColumn', 'tableRow', 'mergeTableCells'
                    ]
                },
                mediaEmbed: {
                    previewsInData: true
                }
            })
            .catch(error => {
                console.error(error);
            });
    </script>
</body>
